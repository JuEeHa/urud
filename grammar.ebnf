@@grammar :: Urud

@@keyword :: let fun

start = {definition}* $;

@name
identifier = /(?!\d)\w+/;

literal = integer_literal | string_literal;
integer_literal = /[-+]?[\d]+/;
string_literal = "'" /([^']|\.)*/ "'";

function_call = atom '(' {expression {',' expression}*} ')';

addsub_operator = muldiv_operator {('+' | '-') muldiv_operator};
muldiv_operator = atom {('*' | '/') atom};

atom = function_call | literal | identifier | '(' expression ')';

expression = addsub_operator | atom;

variable_definition = 'let' identifier '=' expression;

function_definition = 'fun' identifier '(' {identifier identifier {',' identifier identifier}*} ')' {expression | definition}+ ';';

definition = variable_definition | function_definition;
